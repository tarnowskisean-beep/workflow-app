{"version":3,"sources":["../../../../../../Desktop/worflow-app/components/work/week-navigator.tsx/__nextjs-internal-proxy.mjs","../../../../../../Desktop/worflow-app/components/work/time-log-dialog-wrapper.tsx/__nextjs-internal-proxy.mjs","../../../../../../Desktop/worflow-app/components/work/time-entry-list-wrapper.tsx/__nextjs-internal-proxy.mjs","../../../../../../Desktop/worflow-app/app/%28authenticated%29/time/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WeekNavigator = registerClientReference(\n    function() { throw new Error(\"Attempted to call WeekNavigator() from the server but WeekNavigator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/worflow-app/components/work/week-navigator.tsx\",\n    \"WeekNavigator\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TimeLogDialogWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call TimeLogDialogWrapper() from the server but TimeLogDialogWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/worflow-app/components/work/time-log-dialog-wrapper.tsx\",\n    \"TimeLogDialogWrapper\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TimeEntryListWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call TimeEntryListWrapper() from the server but TimeEntryListWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/worflow-app/components/work/time-entry-list-wrapper.tsx\",\n    \"TimeEntryListWrapper\",\n);\n","import { auth } from \"@/auth\"\nimport { prisma } from \"@/lib/prisma\"\nimport { getDailyEntries, getWeeklyEntries } from \"@/actions/time-actions\"\nimport { WeekNavigator } from \"@/components/work/week-navigator\"\nimport { TimeEntryList } from \"@/components/work/time-entry-list\"\nimport { Button } from \"@/components/ui/button\"\nimport { Plus } from \"lucide-react\"\nimport { TimeLogDialogWrapper } from \"@/components/work/time-log-dialog-wrapper\" // New wrapper for handling client state\n\nexport default async function TimePage({ searchParams }: { searchParams: Promise<{ date?: string, view?: string }> }) {\n    const session = await auth()\n    if (!session?.user?.id) return null\n\n    const resolvedParams = await searchParams\n    const dateStr = resolvedParams.date || new Date().toISOString().split(\"T\")[0]\n    const date = new Date(dateStr)\n    const view = resolvedParams.view || \"day\"\n\n    // Parallel data fetching\n    const [entries, tasks, projects] = await Promise.all([\n        view === 'week' ? getWeeklyEntries(date) : getDailyEntries(date),\n        prisma.workItem.findMany({\n            where: {\n                status: { not: \"DONE\" },\n                OR: [\n                    { assigneeId: session.user.id },\n                    { assigneeId: null }\n                ]\n            },\n            select: { id: true, title: true, project: { select: { name: true } } }\n        }),\n        prisma.project.findMany({\n            select: { id: true, name: true }\n        })\n    ])\n\n    // Transform tasks for the dialog\n    const taskOptions = tasks.map(t => ({ id: t.id, title: `${t.project?.name ? t.project.name + ': ' : ''}${t.title}` }))\n\n    return (\n        <div className=\"space-y-6 max-w-5xl mx-auto\">\n            {/* Header / Nav */}\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 border-b pb-6\">\n                <WeekNavigator />\n\n                <TimeLogDialogWrapper tasks={taskOptions} projects={projects} date={dateStr} />\n            </div>\n\n            {/* Main Content */}\n            <div>\n                <TimeEntryListWrapper entries={entries} tasks={taskOptions} projects={projects} view={view} date={dateStr} />\n            </div>\n        </div>\n    )\n}\n\n// Client wrapper for the List to handle \"Edit\" state which is client-side interaction\nimport { TimeEntryListWrapper } from \"@/components/work/time-entry-list-wrapper\"\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}