module.exports=[87637,a=>{"use strict";var b=a.i(8275),c=a.i(58487),d=a.i(37326),e=a.i(38663),f=a.i(19422),g=a.i(29928),h=a.i(56942);let i=(0,h.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),j=(0,h.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var k=a.i(54854);function l({projects:a,users:h}){let l=(0,d.useSearchParams)(),m=(0,d.useRouter)(),n=(a,b)=>{let c=new URLSearchParams(l.toString());b&&"all"!==b?c.set(a,b):c.delete(a),"assigneeId"===a&&c.delete("view"),"view"===a&&"mine"===b&&c.delete("assigneeId"),m.replace(`/work?${c.toString()}`,{scroll:!1})},o=l.get("display")||"list",p=l.get("period")||"all";return(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 bg-muted/30 p-1 rounded-lg border",children:[(0,b.jsx)(f.Tabs,{value:o,onValueChange:a=>n("display",a),className:"w-auto",children:(0,b.jsxs)(f.TabsList,{className:"h-8",children:[(0,b.jsxs)(f.TabsTrigger,{value:"list",className:"text-xs px-3",children:[(0,b.jsx)(i,{className:"mr-2 h-3.5 w-3.5"}),"List"]}),(0,b.jsxs)(f.TabsTrigger,{value:"calendar",className:"text-xs px-3",children:[(0,b.jsx)(g.Calendar,{className:"mr-2 h-3.5 w-3.5"}),"Calendar"]})]})}),(0,b.jsx)("div",{className:"h-5 w-px bg-border hidden sm:block mx-1"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto no-scrollbar",children:["list"===o&&(0,b.jsxs)(e.Select,{value:p,onValueChange:a=>n("period",a),children:[(0,b.jsx)(e.SelectTrigger,{className:"h-8 w-[130px] text-xs bg-background border-dashed hover:border-solid hover:bg-accent/50 transition-colors",children:(0,b.jsx)(e.SelectValue,{placeholder:"All Time"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All Time"}),(0,b.jsx)(e.SelectItem,{value:"daily",children:"Due Today"}),(0,b.jsx)(e.SelectItem,{value:"weekly",children:"Due This Week"}),(0,b.jsx)(e.SelectItem,{value:"monthly",children:"Due This Month"})]})]}),(0,b.jsxs)(e.Select,{value:l.get("projectId")||"all",onValueChange:a=>n("projectId",a),children:[(0,b.jsxs)(e.SelectTrigger,{className:"h-8 w-[140px] text-xs bg-background border-dashed hover:border-solid hover:bg-accent/50 transition-colors",children:[(0,b.jsx)(k.Briefcase,{className:"mr-2 h-3.5 w-3.5 opacity-50"}),(0,b.jsx)(e.SelectValue,{placeholder:"All Projects"})]}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All Projects"}),a.map(a=>(0,b.jsx)(e.SelectItem,{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)(e.Select,{value:l.get("assigneeId")||"all",onValueChange:a=>n("assigneeId",a),children:[(0,b.jsxs)(e.SelectTrigger,{className:"h-8 w-[140px] text-xs bg-background border-dashed hover:border-solid hover:bg-accent/50 transition-colors",children:[(0,b.jsx)(j,{className:"mr-2 h-3.5 w-3.5 opacity-50"}),(0,b.jsx)(e.SelectValue,{placeholder:"All Assignees"})]}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All Assignees"}),h.map(a=>(0,b.jsx)(e.SelectItem,{value:a.id,children:a.name||"Unknown"},a.id))]})]}),(0,b.jsx)(c.Button,{variant:"mine"===l.get("view")?"secondary":"ghost",size:"sm",onClick:()=>{n("view","mine"===l.get("view")?"all":"mine")},className:`h-8 text-xs font-normal ${"mine"===l.get("view")?"bg-primary/10 text-primary hover:bg-primary/20":"text-muted-foreground"}`,children:"My Tasks Only"})]})]})}a.s(["WorkFilters",()=>l],87637)},45699,a=>{"use strict";var b=a.i(8275),c=a.i(96023),d=a.i(52088),e=a.i(27787),f=a.i(69452);let g=(0,a.i(56942).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var h=a.i(25885),i=a.i(54854),j=a.i(70823),k=a.i(84525),l=a.i(95788),m=a.i(30369),n=a.i(37326);function o({initialWorkItems:a,users:o,currentUserRole:p}){let q=(0,n.useRouter)(),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),x=a.reduce((a,b)=>{let c=b.project?.name||"Internal / No Project";return a[c]||(a[c]=[]),a[c].push(b),a},{}),y=async(a,b)=>{a.stopPropagation(),"DONE"!==b.status?w(b):(await (0,m.updateTaskStatus)(b.id,"OPEN"),q.refresh())};return(0,b.jsxs)("div",{className:"space-y-8",children:[0===Object.keys(x).length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground border rounded-lg bg-muted/5",children:[(0,b.jsx)("div",{className:"h-20 w-20 rounded-full bg-slate-50 flex items-center justify-center mb-4",children:(0,b.jsx)(i.Briefcase,{className:"h-10 w-10 opacity-20"})}),(0,b.jsx)("p",{className:"text-lg font-medium text-slate-900",children:"No active work found"}),(0,b.jsx)("p",{className:"text-sm",children:"Try adjusting your filters."})]}):Object.entries(x).map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-2 pt-2 pb-1",children:(0,b.jsxs)("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[a,(0,b.jsx)("span",{className:"text-[10px] font-medium bg-secondary text-secondary-foreground px-1.5 py-0.5 rounded-full",children:c.length})]})}),(0,b.jsx)("div",{className:"grid gap-1",children:c.map(a=>(0,b.jsxs)("div",{onClick:()=>{s(a),u(!0)},className:"group flex items-center gap-3 p-3 rounded-lg border border-transparent hover:border-border hover:bg-card hover:shadow-sm transition-all duration-200 cursor-pointer",children:[(0,b.jsx)("div",{className:"mt-0.5",children:(0,b.jsx)("button",{onClick:b=>y(b,a),className:"opacity-40 group-hover:opacity-100 transition-opacity focus:outline-none",children:"DONE"===a.status?(0,b.jsx)(f.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(g,{className:"h-5 w-5 text-muted-foreground hover:text-primary transition-colors"})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 flex items-center gap-3",children:[(0,b.jsx)("span",{className:`font-medium text-sm truncate ${"DONE"===a.status?"text-muted-foreground line-through":"text-foreground"}`,children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["P0"===a.priority&&(0,b.jsx)(d.Badge,{variant:"destructive",className:"h-4 px-1 text-[10px] rounded-[4px]",children:"P0"}),"P1"===a.priority&&(0,b.jsx)(d.Badge,{variant:"secondary",className:"h-4 px-1 text-[10px] bg-orange-100 text-orange-700 hover:bg-orange-100 hover:text-orange-700 rounded-[4px] border-orange-200",children:"P1"}),a.taskType&&(0,b.jsx)(d.Badge,{variant:"outline",className:"h-4 px-1.5 text-[10px] font-normal text-muted-foreground",children:a.taskType})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.dueDate&&(0,b.jsxs)("span",{className:`flex items-center gap-1.5 ${new Date(a.dueDate)<new Date&&"DONE"!==a.status?"text-red-500 font-medium":""}`,children:[(0,b.jsx)(h.Clock,{className:"h-3.5 w-3.5"}),(0,k.format)(new Date(a.dueDate),"MMM d")]}),(0,b.jsx)("div",{className:"w-px h-3 bg-border"}),a.assignee?(0,b.jsxs)("div",{className:"flex items-center gap-2",title:a.assignee.name,children:[(0,b.jsxs)(e.Avatar,{className:"h-6 w-6",children:[(0,b.jsx)(e.AvatarImage,{src:a.assignee.avatarUrl}),(0,b.jsx)(e.AvatarFallback,{className:"text-[10px]",children:a.assignee.name?.[0]})]}),(0,b.jsx)("span",{className:"hidden sm:inline-block max-w-[80px] truncate",children:a.assignee.name?.split(" ")[0]})]}):(0,b.jsx)("span",{className:"italic opacity-50",children:"Unassigned"})]})]},a.id))})]},a)),(0,b.jsx)(j.TaskDetailSheet,{task:r,open:t,onOpenChange:u,users:o,currentUserRole:p}),v&&(0,b.jsx)(l.TimeLogDialog,{open:!!v,onOpenChange:a=>!a&&w(null),task:v,onComplete:()=>{(0,m.updateTaskStatus)(v.id,"DONE"),w(null),q.refresh()}})]})}a.s(["WorkTaskList",()=>o],45699)},68638,a=>{"use strict";var b=a.i(8275),c=a.i(96023),d=a.i(84525),e=a.i(18627),f=a.i(33761),g=a.i(58550),h=a.i(1983),i=a.i(43753),j=a.i(898);function k(a,b){let{start:c,end:d}=(0,i.normalizeInterval)(b?.in,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0);let h=b?.step??1;if(!h)return[];h<0&&(h=-h,e=!e);let k=[];for(;+g<=f;)k.push((0,j.constructFrom)(c,g)),g.setDate(g.getDate()+h),g.setHours(0,0,0,0);return e?k.reverse():k}var l=a.i(95140),m=a.i(27192),n=a.i(51019),o=a.i(31528),p=a.i(44992),q=a.i(17413),r=a.i(44627),s=a.i(89233),t=a.i(58487),u=a.i(35774),v=a.i(70823);function w({items:a,users:i}){let[j,w]=(0,c.useState)(new Date),[x,y]=(0,c.useState)("month"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),D="month"===x?k({start:(0,g.startOfWeek)((0,e.startOfMonth)(j)),end:(0,h.endOfWeek)((0,f.endOfMonth)(j))}):k({start:(0,g.startOfWeek)(j),end:(0,h.endOfWeek)(j)}),E=[];for(let a=0;a<D.length;a+=7)E.push(D.slice(a,a+7));return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Button,{variant:"outline",size:"icon",onClick:()=>{if("month"===x)w((0,n.addMonths)(j,-1,void 0));else w((0,p.subWeeks)(j,1))},children:(0,b.jsx)(r.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsx)(t.Button,{variant:"outline",onClick:()=>w(new Date),children:"Today"}),(0,b.jsx)(t.Button,{variant:"outline",size:"icon",onClick:()=>{"month"===x?w((0,n.addMonths)(j,1)):w((0,o.addWeeks)(j,1))},children:(0,b.jsx)(s.ChevronRight,{className:"h-4 w-4"})}),(0,b.jsx)("h2",{className:"text-lg font-semibold ml-2 min-w-[140px]",children:(0,d.format)(j,"month"===x?"MMMM yyyy":"'Week of' MMM d")})]}),(0,b.jsxs)("div",{className:"flex items-center border rounded-lg p-1 bg-muted/20",children:[(0,b.jsx)(t.Button,{variant:"month"===x?"secondary":"ghost",size:"sm",onClick:()=>y("month"),className:"text-xs",children:"Month"}),(0,b.jsx)(t.Button,{variant:"week"===x?"secondary":"ghost",size:"sm",onClick:()=>y("week"),className:"text-xs",children:"Week"})]})]}),(0,b.jsxs)("div",{className:"bg-border rounded-xl overflow-hidden shadow-sm border",children:[(0,b.jsx)("div",{className:"grid grid-cols-7 bg-muted/40 gap-px border-b",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,b.jsx)("div",{className:"py-3 text-center text-[11px] font-semibold text-muted-foreground uppercase tracking-widest bg-background",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-px bg-border",children:E.map(c=>c.map((c,e)=>{let f=a.filter(a=>!!a.dueDate&&(0,m.isSameDay)(new Date(a.dueDate),c)),g=(0,l.isSameMonth)(c,j),h=(0,q.isToday)(c);return(0,b.jsxs)("div",{className:(0,u.cn)("min-h-[140px] p-2 transition-colors bg-background group relative flex flex-col gap-1",!g&&"month"===x&&"bg-muted/5 text-muted-foreground/50",h&&"bg-blue-50/10"),children:[(0,b.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,b.jsx)("span",{className:(0,u.cn)("text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full transition-all",h?"bg-primary text-primary-foreground shadow-sm scale-110":"text-muted-foreground group-hover:text-foreground group-hover:bg-muted/50"),children:(0,d.format)(c,"d")})}),(0,b.jsx)("div",{className:"space-y-1 overflow-y-auto max-h-[110px] no-scrollbar",children:f.map(a=>(0,b.jsxs)("button",{onClick:()=>{A(a),C(!0)},className:(0,u.cn)("w-full text-left text-[11px] px-2 py-1.5 rounded-[6px] border flex items-start gap-2 transition-all hover:shadow-sm hover:z-10 relative group/task","DONE"===a.status?"bg-slate-50 text-muted-foreground opacity-60 line-through border-transparent":"bg-white border-border/60 hover:border-primary/30 shadow-[0_1px_2px_rgba(0,0,0,0.02)]"),children:[(0,b.jsx)("div",{className:(0,u.cn)("mt-1 w-1.5 h-1.5 rounded-full shrink-0",function(a){switch(a){case"P0":return"bg-red-500";case"P1":return"bg-orange-500";case"P2":return"bg-blue-500";default:return"bg-slate-300"}}(a.priority))}),(0,b.jsx)("span",{className:"truncate font-medium leading-tight text-slate-700 group-hover/task:text-slate-900",children:a.title})]},a.id))})]},e)}))})]}),(0,b.jsx)(v.TaskDetailSheet,{task:z,open:B,onOpenChange:C,users:i})]})}a.s(["WorkCalendar",()=>w],68638)}];

//# sourceMappingURL=Desktop_worflow-app_components_work_67ed6788._.js.map