{"version":3,"sources":["../../../../../../Desktop/worflow-app/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../Desktop/worflow-app/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../Desktop/worflow-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../../../Desktop/worflow-app/node_modules/%40radix-ui/react-label/dist/index.mjs","../../../../../../Desktop/worflow-app/components/ui/label.tsx","../../../../../../Desktop/worflow-app/components/ui/textarea.tsx","../../../../../../Desktop/worflow-app/actions/data%3Af5e733%20%3Ctext/javascript%3E","../../../../../../Desktop/worflow-app/components/projects/create-project-form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport { Label as LabelPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","/* __next_internal_action_entry_do_not_use__ [{\"40e7def66ffb97f0baff30760441528635c50f2cb4\":\"createProject\"},\"Desktop/worflow-app/actions/project-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_2=/*#__PURE__*/createServerReference(\"40e7def66ffb97f0baff30760441528635c50f2cb4\",callServer,void 0,findSourceMapURL,\"createProject\");export{$$RSC_SERVER_ACTION_2 as createProject};","\"use client\"\n\nimport { createProject } from \"@/actions/project-actions\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useRouter } from \"next/navigation\" // Use next/navigation for app directory\nimport { useState } from \"react\"\n\nimport { User } from \"@prisma/client\" // Or define shape locally if preferred\nimport { Checkbox } from \"@/components/ui/checkbox\"\n\ninterface CreateProjectFormProps {\n    users: Partial<User>[]\n}\n\nexport function CreateProjectForm({ users }: CreateProjectFormProps) {\n    const router = useRouter()\n    const [pending, setPending] = useState(false)\n    const [error, setError] = useState<string | null>(null)\n\n    async function handleSubmit(formData: FormData) {\n        setPending(true)\n        setError(null)\n\n        // Users are not handled in createProject action yet via FormData auto-binding if I modify the action to look for them,\n        // BUT createProject schema is: name, code, description. \n        // I updated createProject action to connect *current user*.\n        // If I want to add *other users*, I need to update createProject action to accept userIds.\n\n        // Wait, I didn't update createProject to accept other users. I only connected session.user.\n        // I should update createProject to accept a list of user IDs. \n        // But FormData doesn't handle arrays nicely without repeat entries.\n\n        // let's stick to just creating it with current user first, \n        // OR update createProject to look for 'userIds' in formData?\n        // Let's rely on the plan: \"Update Project Dialog to allow selecting users\". \n        // The plan said: \"Update project creation/editing to include user assignment\".\n\n        // I will just add the current user logic for now as done in previous step. \n        // If I want to support adding others during creation, I need to update the action.\n        // Let's stick to the current action implementation for now which connects the creator.\n        // AND add a way to update it later. \n\n        // HOWEVER, the user asked to \"limit what users have access\". \n        // If I create a project, it's limited to me.\n        // I should probably allow adding others.\n\n        // Let's update createProject to handle assignments if I have time, but sticking to \"Manage Access\" button is safer for now.\n        // Actually, the plan said \"Update Project Project Dialog\".\n        // Let's implement the \"Manage Access\" dialog on the details page first. \n        // The create form can remain simple.\n\n        const result = await createProject(formData)\n\n        if (result?.error) {\n            if (typeof result.error === 'string') {\n                setError(result.error)\n            } else {\n                setError(\"Please check your input.\")\n            }\n            setPending(false)\n        } else {\n            // Success\n            router.push(\"/projects\")\n            router.refresh()\n        }\n    }\n\n    return (\n        <form action={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Project Name</Label>\n                <Input id=\"name\" name=\"name\" placeholder=\"Acme Corp\" required />\n            </div>\n\n            <div className=\"space-y-2\">\n                <Label htmlFor=\"code\">Project Code</Label>\n                <Input id=\"code\" name=\"code\" placeholder=\"ACME\" maxLength={10} className=\"uppercase\" required />\n                <p className=\"text-xs text-muted-foreground\">Unique identifier (e.g. CPRO, AFL)</p>\n            </div>\n\n            <div className=\"space-y-2\">\n                <Label htmlFor=\"description\">Description</Label>\n                <Textarea id=\"description\" name=\"description\" placeholder=\"Brief description of the project...\" />\n            </div>\n\n            <div className=\"text-sm text-muted-foreground\">\n                <p>You will be automatically assigned to this project. You can add more members later.</p>\n            </div>\n\n            {error && (\n                <div className=\"text-sm text-red-500 bg-red-50 p-2 rounded\">\n                    {error}\n                </div>\n            )}\n\n            <Button type=\"submit\" disabled={pending} className=\"w-full\">\n                {pending ? \"Creating...\" : \"Create Project\"}\n            </Button>\n        </form>\n    )\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0,1,2,3]}