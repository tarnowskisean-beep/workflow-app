module.exports=[53115,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},17606,a=>{"use strict";var b=a.i(51223),c=a.i(63270),d=a.i(13666),e=a.i(66975);async function f(){let a=await (0,c.auth)();if(!a?.user?.id)return[];try{return await d.prisma.user.findMany({select:{id:!0,name:!0,email:!0,avatarUrl:!0,role:!0,managerId:!0,manager:{select:{id:!0,name:!0}}},orderBy:{name:"asc"}})}catch(a){return console.error("Failed to fetch users:",a),[]}}async function g(a,b,f){let g=await (0,c.auth)();if(!g?.user?.id)return{error:"Unauthorized"};try{return await d.prisma.user.update({where:{id:a},data:{role:b,managerId:"none"===f?null:f}}),(0,e.revalidatePath)("/settings/users"),{success:!0}}catch(a){return console.error("Failed to update user:",a),{error:"Failed to update user"}}}(0,a.i(53115).ensureServerEntryExports)([f,g]),(0,b.registerServerReference)(f,"00052ab1fab1b8579fa088cb15217f3f2c849b69f1",null),(0,b.registerServerReference)(g,"70efc01e1693331f116310be4b7f9679e63cbd9d54",null),a.s(["getUsers",()=>f,"updateUserRoleAndManager",()=>g])},59999,a=>{"use strict";var b=a.i(43379),c=a.i(17606);a.s([],71709),a.i(71709),a.s(["00052ab1fab1b8579fa088cb15217f3f2c849b69f1",()=>c.getUsers,"001ceff8282c4239bec770d6cac094d371cf582016",()=>b.$$RSC_SERVER_ACTION_0,"70efc01e1693331f116310be4b7f9679e63cbd9d54",()=>c.updateUserRoleAndManager],59999)}];

//# sourceMappingURL=Desktop_worflow-app_c618f12a._.js.map