module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},67112,a=>{a.n(a.i(86326))},34222,a=>{a.n(a.i(89316))},6247,a=>{a.n(a.i(11006))},28251,a=>{a.n(a.i(34635))},43423,a=>{a.n(a.i(2841))},22340,a=>{a.n(a.i(30829))},56498,a=>{"use strict";var b=a.i(55744),c=a.i(97990);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm transition-all duration-200 hover:shadow-md",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},87476,69174,a=>{"use strict";var b=a.i(93157);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}],87476);var e=a.i(80145);function f(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}var g=a.i(55744);function h(a){var b;let c,d=(b=a,(c=e.forwardRef((a,b)=>{let{children:c,...d}=a;if(e.isValidElement(c)){var g;let a,h,i=(g=c,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==e.Fragment&&(j.ref=b?function(...a){return b=>{let c=!1,d=a.map(a=>{let d=f(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():f(a[b],null)}}}}(b,i):i),e.cloneElement(c,j)}return e.Children.count(c)>1?e.Children.only(null):null})).displayName=`${b}.SlotClone`,c),h=e.forwardRef((a,b)=>{let{children:c,...f}=a,h=e.Children.toArray(c),i=h.find(m);if(i){let a=i.props.children,c=h.map(b=>b!==i?b:e.Children.count(a)>1?e.Children.only(null):e.isValidElement(a)?a.props.children:null);return(0,g.jsx)(d,{...f,ref:b,children:e.isValidElement(a)?e.cloneElement(a,void 0,c):null})}return(0,g.jsx)(d,{...f,ref:b,children:c})});return h.displayName=`${a}.Slot`,h}var i=h("Slot"),j=Symbol("radix.slottable");function k(a){let b=({children:a})=>(0,g.jsx)(g.Fragment,{children:a});return b.displayName=`${a}.Slottable`,b.__radixId=j,b}var l=k("Slottable");function m(a){return e.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}a.s(["Root",()=>i,"Slot",()=>i,"Slottable",()=>l,"createSlot",()=>h,"createSlottable",()=>k],95937);var n=a.i(95937);a.s(["Slot",0,n],69174)},41435,a=>{"use strict";var b=a.i(55744),c=a.i(87476),d=a.i(69174),e=a.i(97990);let f=(0,c.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function g({className:a,variant:c="default",asChild:g=!1,...h}){let i=g?d.Slot.Root:"span";return(0,b.jsx)(i,{"data-slot":"badge","data-variant":c,className:(0,e.cn)(f({variant:c}),a),...h})}a.s(["Badge",()=>g])},47399,a=>{"use strict";a.s(["FileSearch",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call FileSearch() from the server but FileSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/file-search.tsx <module evaluation>","FileSearch")},8323,a=>{"use strict";a.s(["FileSearch",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call FileSearch() from the server but FileSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/file-search.tsx","FileSearch")},48523,a=>{"use strict";a.i(47399);var b=a.i(8323);a.n(b)},90663,a=>{"use strict";a.s(["AddFileDialog",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call AddFileDialog() from the server but AddFileDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/add-file-dialog.tsx <module evaluation>","AddFileDialog")},45928,a=>{"use strict";a.s(["AddFileDialog",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call AddFileDialog() from the server but AddFileDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/add-file-dialog.tsx","AddFileDialog")},6426,a=>{"use strict";a.i(90663);var b=a.i(45928);a.n(b)},6701,a=>{"use strict";a.s(["FileFilters",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call FileFilters() from the server but FileFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/file-filters.tsx <module evaluation>","FileFilters")},33326,a=>{"use strict";a.s(["FileFilters",()=>b]);let b=(0,a.i(27671).registerClientReference)(function(){throw Error("Attempted to call FileFilters() from the server but FileFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Desktop/worflow-app/components/files/file-filters.tsx","FileFilters")},29104,a=>{"use strict";a.i(6701);var b=a.i(33326);a.n(b)},93497,a=>{"use strict";var b=a.i(55744),c=a.i(13666),d=a.i(56498),e=a.i(79356);let f=(0,a.i(81136).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var g=a.i(35226),h=a.i(41435),i=a.i(48523),j=a.i(6426),k=a.i(17606),l=a.i(29104);async function m({searchParams:a}){let{query:m,projectId:n,userId:o,taskType:p}=await a,q={driveLink:{not:null}};m&&(q.title={contains:m}),n&&"all"!==n&&(q.projectId=n),o&&"all"!==o&&(q.assigneeId=o),p&&"all"!==p&&(q.taskType=p);let r=await c.prisma.workItem.findMany({where:q,orderBy:{updatedAt:"desc"},include:{project:!0,assignee:!0}}),s=await c.prisma.project.findMany({orderBy:{name:"asc"}}),t=Array.from(new Set(s.flatMap(a=>a.allowedTaskTypes?a.allowedTaskTypes.split(",").map(a=>a.trim()):[]))).filter(Boolean).sort(),u=await (0,k.getUsers)();return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Files"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Central repository of all deliverables."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.FileFilters,{projects:s,users:u,taskTypes:t}),(0,b.jsx)(i.FileSearch,{}),(0,b.jsx)(j.AddFileDialog,{projects:s})]})]}),(0,b.jsx)("div",{className:"grid gap-6",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Documents"}),(0,b.jsx)(d.CardDescription,{children:"Access documents linked to tasks or uploaded directly."})]}),(0,b.jsx)(d.CardContent,{children:0===r.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground bg-muted/20 rounded-lg border-dashed border-2",children:[(0,b.jsx)(e.FileText,{className:"h-10 w-10 mx-auto mb-3 opacity-20"}),(0,b.jsx)("p",{children:"No files found."})]}):(0,b.jsx)("div",{className:"border rounded-lg divide-y",children:r.map(a=>(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(e.FileText,{className:"h-4 w-4 text-primary"}),a.title]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[a.project&&(0,b.jsx)(h.Badge,{variant:"outline",children:a.project.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["• ",a.updatedAt.toLocaleDateString()]}),a.assignee&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground max-sm:hidden",children:["• by ",a.assignee.name]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:a.driveLink&&(0,b.jsxs)(g.default,{href:a.driveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm font-medium text-blue-600 hover:underline",children:["Open ",(0,b.jsx)(f,{className:"h-3 w-3"})]})})]},a.id))})})]})})]})}a.s(["default",()=>m],93497)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fa96456b._.js.map